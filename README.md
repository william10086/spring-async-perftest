# spring-async-perftest

测试一下Servlet 3.1 的 Async Servlet 能对系能提升起到多少作用.

## 测试场景:

既然是使用异步Servlet, 那么后台处理必定是用线程池模式才有意义.

这次准备奢侈一把, 用公司的Intel(R) Xeon(R) CPU E5-2643 v2 @ 3.50GHz 6*4 的性能测试机试一试.

应用服务器jetty, 内嵌在Spring-Boot里. 

准备测试一下几种matrix

方式 |HTTP线程池 | 工作线程池 | 工作线程等待时间
---|---|---|---
异步 |16 | 16 | 1s
异步 |16 | 16 | 0.1s
同步 | 16 | 16 | 1s
同步 | 16 | 16 | 0.1s
同步 | 100 | 16 | 1s
同步 | 200 | 16 | 1s

并发量500, 1000, 2000, ....

----

Update: 0609

安装上面的场景测试下来性能基本上没有差别.

场景设定可能是有问题的.

用wrk测试
```
./wrk -c 1000 -t 8 -d 30 --timeout=120 -s scripts/multiplepaths.lua http://192.168.200.23:9000/

```